# 3.1  Initialization of a Data-Link Algorithm in the Presence of Faults

The data-link layer is responsible for delivering messages from a *sender* to a *receiver* that are directly connected. Recall that the communication channel connecting the sender and the receiver is not reliable; information sent from the sender to the receiver (and in the opposite direction) can be corrupted or even lost. In order to deliver a message, the sender sends sequences of bits (usually at a constant rate) to the receiver. Each sequence is called a frame. The sender stops sending bits for (at least) a short period between two consecutive frame transmissions.

Error-detection codes are used to identify and discard corrupted frames. Frame retransmission is used to cope with the possibility of frame corruption or loss. One retransmission strategy is the alternating-bit algorithm presented in figure 2.14, which can be used to implement a reliable data-link layer. Every message received by the sender from the network layer is repeatedly sent in a frame to the receiver until the receiver acknowledges receipt. The sender is then ready to receive and handle a new message of the network layer.

In more detail: when the system is initialized, there are no frames in transit. Thus, the sender uses the sequence number ${bit}_s = 1$, while the receiver uses the sequence number ${bit}_r = 0$. The sender repeatedly sends the frame $<m_1, 1>$ with the first message received from the network layer $m_1$ and a bit value 1, which is the value of bits. The receiver accepts every message from a frame with a bit value different from ${bit}_r$. In particular, the receiver accepts $m_1$ and delivers it to the network layer. At the same time, the receiver changes ${bit}_r$ to the value of the bit in the frame of the accepted message; i.e., ${bit}_r$ is assigned the value 1 when $m_1$ is delivered. In addition, every frame $<m, bit>$ that arrives at the receiver is acknowledged by the receiver by the transmission of a frame $<bit>$. Therefore, eventually the sender receives a frame 1	 from the receiver that indicates the acceptance of m1 by the receiver.
